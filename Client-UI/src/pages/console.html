<style type="text/css">
    html {
        font-size: 14px;
    }
</style>

<div class="container-fluid clientConsole">
    <div class="output-container">

    </div>
    <div class="input">
        <form onsubmit="return sendConsoleInput()">
            <input type="text" name="consoleInput" id="consoleInput"/>
        </form>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        let size = localStorage.getItem("clientConsole.lastSize");
        if (!size) {
            size = 300;
            localStorage.setItem("clientConsole.lastSize", 300);
        }

        $(".container-fluid.clientConsole").css("height", `${size}px`);

        $(".container-fluid.clientConsole").resizable({
            handles: "s",
            minHeight: 150,
            stop: (event, ui) => {
                localStorage.setItem("clientConsole.lastSize", ui.size.height);
            }
        });
    });

    function sendConsoleInput() {
        printToConsole("warn", `<i>Console Input not yet supported. Input was: ${$("#consoleInput").val()}</i>`);
        $("#consoleInput").val("");
        return false;
    }

    function printToConsole(state = "log", raw) {
        const possibleStateOps = ["log", "debug", "info", "warn", "error"];
        if (possibleStateOps.indexOf(state) === -1) state = "log";

        $(".output-container").append(`<div class="consoleItem console-${state}">${raw}</div>`);

        // @todo: scroll down if scrolling on bottom
        $(".output-container").sc
    }
</script>
