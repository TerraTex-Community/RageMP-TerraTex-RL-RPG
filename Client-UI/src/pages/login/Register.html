<div style="display: flex; height:100%; width:100%; align-items: center; justify-content: center;">
    <div style="align-self: flex-start"></div>
    <div style="width: 690px; max-width: 100%; max-height: 80%; overflow-y: scroll; overflow-x: hidden">
        <div class="container-fluid">
            <form role="form" onsubmit="executeFormCheck(); return false;">
                <div class="alert alert-warning disclaimer-ea">
                    <!-- @todo: remove this after 1.0.0 see #149 -->
                    Das Script ist derzeit noch in einem Early Access Alpha Status. Viele Features fehlen noch oder können
                    fehlerhaft sein. Weitere Infos dazu gibt es in unserem Forum:
                    <span class="badge badge-info" data-href="https://terratex.eu" class="web copyLinkToClipOnClick">https://terratex.eu</span> oder im Bugtracker
                    <span class="badge badge-info" data-href="https://bug.terratex.eu" class="web copyLinkToClipOnClick">https://bug.terratex.eu</span>
                </div>
                <div id="disclaimer-dev" class="alert alert-warning hidden">
                    Du befindest dich auf dem DevServer. Einige Features sind unvollständig oder können
                    fehlerhaft sein.<br/>
                    <strong>
                        Deine Daten auf DevServer werden NICHT mit dem LiveServer abgeglichen. Dieser Server ist nur zum Testen gedacht.
                        Er erlaubt dir auch, die Nutzung einiger <span class="badge badge-info" data-href="https://forum.terratex.eu/forum/index.php?thread/159-developer-admincommands/" class="copyLinkToClipOnClick web">
                        Admin-, Entwicklungs- und Testbefehle</span> zum vereinfachten Testing.
                    </strong> <br/>
                    Weitere Infos dazu gibt es in unserer FAQ im Forum:
                    <span class="badge badge-info" data-href="https://forum.terratex.eu/forum/index.php?thread/128-faq-mit-dem-server-verbinden/&postID=625#post625" class="copyLinkToClipOnClick web">https://terratex.eu</span>
                </div>

                <div class="form-control">
                    <h3>Willkommen auf dem TerraTex Reallife Roleplay Game Server</h3>
                    <img src="images/general/logo.png" class="register-image-logo" alt=""/>Willkommen auf dem Server.
                    Unter deinem Pseudonym <strong>"<span data-insert="nickname">${nickname}</span>"</strong> wurde noch kein
                    Account gefunden. Mit diesem Formular kannst du ein neuen Account und einen neuen
                    Character erstellen. Da wir im wesentlichen ein RPG Server sind, solltest du dir einen Character
                    ausdenken, den es im realen wirklich geben könnte und mit
                    dem du dich indentifizieren kannst. Im Abschnitt "Character Daten" werden auch nur Daten zum
                    Character abgefragt. Diese müssen nicht mit deinen realen Daten übereinstimmen.
                    <div class="clear"></div>
                </div>
                <div class="form-control">
                    <h3>Account Daten</h3>
                    <div class="form-group">
                        <label for="email" class="font-weight-bold">E-Mail</label>
                        <input type="email" class="form-control" id="email" placeholder="E-Mail" required>
                        <small>
                            Bitte gebe hier eine real existierende E-Mail Adresse ein. Unter dieser solltest du auch in
                            Zukunft erreichbar sein. Sie wird zur Identifikation
                            bei Moderativen Hilfen genutzt und du wirst sie ggf. auch in Zukunft benötigen, solltest du
                            beispielsweise mal dein Passwort vergessen. Wir werden die E-Mail
                            nicht für andere Zwecke (wie Werbung) nutzen. Sie wird nur zu deinen Gunsten gespeichert.
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="password" class="font-weight-bold">Passwort</label>
                        <input type="password" class="form-control" id="password" placeholder="Passwort" required>
                        <input type="password" class="form-control" id="passwordwdh" placeholder="Passwort wiederholen"
                               required>
                        <span id="worngPassword" class="hidden text-danger">
                    <small>Die Passwörter stimmen nicht überein oder entsprechen nicht den Passwortrichtlinien (min. 8 Zeichen)</small>
                </span>
                    </div>
                </div>
                <div class="form-control">
                    <h3>(Roleplay-) Character Daten</h3>
                    <div class="form-group">
                        <label for="forename" class="font-weight-bold">Vorname</label>
                        <input type="text" class="form-control" id="forename" placeholder="Vorname" required>
                    </div>
                    <div class="form-group">
                        <label for="lastname" class="font-weight-bold">Nachname</label>
                        <input type="text" class="form-control" id="lastname" placeholder="Nachname" required>
                    </div>
                    <div class="form-group">
                        <label for="birthday" class="font-weight-bold">Geburstag</label>
                        <input type="date" class="form-control" id="birthday" placeholder="Geburstag dd.mm.YYYY"
                               required>
                        <span id="worngBirthday" class="hidden text-danger">
                    <small>Bitte gebe ein realistisches Geburtsjahr deines Characters an.</small>
                </span>
                    </div>
                    <div class="form-group">
                        <label class="font-weight-bold">Geschlecht</label><br/>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="gender" id="gender_female" value="female">
                                <label class="form-check-label" for="gender_female">
                                    weiblich
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="gender" id="gender_male" value="male" checked>
                                <label class="form-check-label" for="gender_male">
                                    männlich
                                </label>
                            </div>
                    </div>
                    <div class="form-group">
                        <label for="history" class="font-weight-bold">Charactergeschichte (optional)</label><br/>
                        <small>
                            Hier kannst du für einen Character eine coole kleine Geschichte ausdenken, z.B. wo kommt
                            dein Character her, was macht ihn aus, welche Charactereigenschaften
                            hat er, was willst du mit ihm erreichen oder ähnliches. Du solltest diese Geschichte auch
                            aus sicht des Characters (Ich - Perspektive) schreiben oder Alternativ
                            in 3rd Person. Beispiel: "Max Mustermann hatte alles verloren und so blieb ihn nichts. In
                            diesen Moment entschloss er sich aus dem Land zu fliehen und
                            floh nach TerraTex. Dort...."
                        </small>
                        <br/>
                        <br/>
                        <textarea class="form-control" id="history" height="150px"
                                  placeholder="Charactergeschichte"></textarea>
                    </div>
                </div>
                <div class="form-control">
                    <button type="submit" class="btn btn-primary">Account & Character erstellen</button>
                </div>
            </form>

            <script>
                $(document).ready(() => {
                    mp.trigger('browser_login_sendMeNickname');
                });

                function setPlayerNickname(nickname) {
                    // console.log(setPlayerNickname);
                    $("span[data-insert=nickname]").html(nickname);
                }

                function executeFormCheck() {
                    //check password
                    if ($("#password").val() !== $("#passwordwdh").val() || $("#password").val().length < 8) {
                        $("#worngPassword").removeClass("hidden");
                        $("#password").css("border-color", "#FF0000");
                        $("#passwordwdh").css("border-color", "#FF0000");
                        $('html, body').animate({
                            scrollTop: $("#password").offset().top
                        }, 200);
                        return false;
                    } else {
                        $("#worngPassword").addClass("hidden");
                        $("#password").css("border-color", "rgba(0, 0, 0, 0.15)");
                        $("#passwordwdh").css("border-color", "rgba(0, 0, 0, 0.15)");
                    }

                    // check birthday
                    const birthday = new Date($("#birthday").val());
                    if (birthday.getFullYear() > new Date().getFullYear() || birthday.getFullYear() < 1917) {
                        $("#worngBirthday").removeClass("hidden");
                        $("#birthday").css("border-color", "#FF0000");
                        $('html, body').animate({
                            scrollTop: $("#birthday").offset().top
                        }, 200);
                        return false;
                    } else {
                        $("#worngBirthday").addClass("hidden");
                        $("#birthday").css("border-color", "rgba(0, 0, 0, 0.15)");
                    }

                    // objects and arrays cause sometimes problems: workaround -> JSON.stringify
                    mp.trigger("browser_login_register", JSON.stringify({
                        password: $("#password").val(),
                        email: $("#email").val(),
                        forename: $("#forename").val(),
                        lastname: $("#lastname").val(),
                        birthday: $("#birthday").val(),
                        history: $("#history").val(),
                        gender: $("#gender_female").is(":checked") ? "female" : "male"
                    }));
                    return true;
                }
            </script>
        </div>
    </div>
    <div style="align-self: flex-end"></div>
</div>
